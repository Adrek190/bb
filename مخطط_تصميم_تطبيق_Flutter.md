آخر تعديل: 11 دقائق مضت
مخطط تصميم تطبيق Flutter
مقدمة
يهدف هذا المستند إلى تقديم مخطط تصميم شامل لتطبيق Flutter، بناءً على الصور المقدمة من المستخدم. سيركز المخطط على تحديد هيكل التطبيق، وتصنيف الصفحات، والمكونات المشتركة، مع الأخذ في الاعتبار أفضل ممارسات تصميم واجهة المستخدم (UI) وتجربة المستخدم (UX)، بالإضافة إلى تطبيق مبادئ Design Patterns لضمان قابلية التوسع، وسهولة الصيانة، ومرونة الكود. سيتم تناول كل صفحة بالتفصيل، مع تحديد دورها، ومكوناتها، وكيفية تفاعلها ضمن تدفق التطبيق العام.
الهيكل العام للتطبيق (Application Architecture)
بناءً على تحليل الصور، يمكن تقسيم التطبيق إلى عدة أقسام رئيسية، تخدم كل منها وظيفة محددة. سنعتمد هيكلًا معياريًا (Modular Architecture) يسمح بفصل الاهتمامات (Separation of Concerns) ويسهل عملية التطوير والصيانة. يمكن أن يشمل هذا الهيكل طبقات مثل:
طبقة العرض (Presentation Layer): تحتوي على واجهة المستخدم (UI) ومنطق العرض (UI Logic). ستتضمن هذه الطبقة جميع الـ Widgets والصفحات التي يراها المستخدم ويتفاعل معها.
طبقة المنطق (Business Logic Layer): تحتوي على منطق العمل الخاص بالتطبيق، مثل معالجة البيانات، والتحقق من الصحة، والتفاعل مع الخدمات الخلفية. يمكن استخدام حلول إدارة الحالة (State Management) مثل Provider, Riverpod, BLoC, GetX في هذه الطبقة.
طبقة البيانات (Data Layer): مسؤولة عن جلب البيانات وتخزينها، سواء من مصادر محلية (مثل SQLite) أو مصادر بعيدة (مثل REST APIs). ستتضمن هذه الطبقة المستودعات (Repositories) ومصادر البيانات (Data Sources).
تدفق المستخدم (User Flow)
يتضمن تدفق المستخدم في هذا التطبيق عدة مسارات رئيسية:
التشغيل الأولي والتسجيل/الدخول:
صفحات الترحيب/المقدمة (Onboarding Screens).
صفحة التسجيل.
صفحة تسجيل الدخول.
صفحة تأكيد الحساب.
الشاشة الرئيسية والتنقل:
الشاشة الرئيسية (Home Screen).
القائمة الجانبية (Drawer Menu).
شريط التنقل السفلي (Bottom Navigation Bar).
إدارة الحساب والأبناء:
صفحة حسابي.
صفحة الأبناء.
الوظائف الإضافية:
صفحة الفواتير.
صفحة الشكاوى (وصفحة شكوى جديدة).
صفحة التقييم.
سيتم تفصيل كل صفحة ومكوناتها في الأقسام التالية، مع التركيز على تطبيق Design Patterns المناسبة لـ Flutter.
تفصيل الصفحات والمكونات (Page and Component Details)
1. صفحة الترحيب/التسجيل (Onboarding/Registration Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٠٤_com_schoolz_io_MainActivity.jpg
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٠٨_com_schoolz_io_MainActivity.jpg
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١١١_com_schoolz_io_MainActivity.jpg
الوصف:
تتكون هذه المجموعة من الصفحات من ثلاث شاشات ترحيبية متتالية، تهدف إلى تعريف المستخدم بالتطبيق وجمع بعض المعلومات الأولية أو توجيهه لإنشاء حساب. تتميز بتصميم بصري جذاب يعتمد على الرسوم التوضيحية والنصوص التوجيهية.
المكونات المشتركة (Common Components):
شريط الحالة العلوي (Status Bar): يعرض معلومات النظام الأساسية. يمكن التحكم في مظهره (اللون، أيقونات فاتحة/داكنة) ليتناسب مع تصميم الصفحة.
زر تخطي (Skip Button): TextButton أو GestureDetector يحتوي على نص "تخطي". يجب أن يكون هذا الزر مرئيًا وواضحًا، ويوجه المستخدم إلى الشاشة الرئيسية أو شاشة تسجيل الدخول مباشرة.
محدد اللغة (Language Selector): DropdownButton أو InkWell مع Row يحتوي على أيقونة علم (يمكن استخدام حزمة country_flags أو flag_icons)، نص اللغة (مثل "عربي" أو "إنجليزي")، وأيقونة سهم لأسفل. عند النقر، يعرض قائمة باللغات المتاحة. يجب أن يؤثر اختيار اللغة على اتجاه النص (RTL/LTR) وجميع النصوص في التطبيق.
الرسوم التوضيحية (Illustrations): Image.asset أو SvgPicture.asset (إذا كانت الرسوم بصيغة SVG لضمان الجودة العالية وقابلية التوسع). يجب أن تكون هذه الرسوم متحركة بشكل خفيف أو تتغير بين الصفحات لإضافة حيوية.
عنوان الصفحة (Page Title): Text Widget بخط كبير ووزن ثقيل (Bold) لجذب الانتباه. يجب أن يكون النص واضحًا وموجزًا.
مؤشرات الصفحات (Page Indicators): Row من Containers دائرية صغيرة أو TabPageSelector إذا تم استخدام PageView. يتم تمييز المؤشر الخاص بالصفحة الحالية بلون مختلف (مثل الأصفر).
زر التنقل (Navigation Button): ElevatedButton أو InkWell بتصميم مميز (لون خلفية أصفر، نص أبيض، أيقونة سهم). يجب أن يكون هذا الزر كبيرًا وواضحًا لتوجيه المستخدم إلى الخطوة التالية.
زر العودة (Back Button): TextButton أو InkWell بنص "عودة". يظهر في الصفحات اللاحقة للسماح للمستخدم بالعودة إلى الشاشة السابقة.
تصميم الصفحات الفردية (Individual Page Design):
الصفحة 1 (الترحيب/التسجيل):
الهدف: دعوة المستخدم لإنشاء حساب جديد أو تسجيل الدخول.
المكونات الفريدة: الرسم التوضيحي يركز على عملية تسجيل الدخول/الاشتراك.
التفاعل: النقر على زر "التالي" ينتقل إلى الصفحة 2. النقر على "تخطي" ينتقل إلى شاشة تسجيل الدخول أو الشاشة الرئيسية.
الصفحة 2 (إضافة الأبناء والمواقع):
الهدف: توجيه المستخدم لإضافة معلومات أساسية (أبناء، منزل، مدرسة).
المكونات الفريدة: الرسم التوضيحي يركز على موضوع النقل المدرسي أو الأسرة.
التفاعل: النقر على زر "التالي" ينتقل إلى الصفحة 3. النقر على "عودة" يعود إلى الصفحة 1. النقر على "تخطي" ينتقل إلى شاشة تسجيل الدخول أو الشاشة الرئيسية.
الصفحة 3 (تأكيد الحساب):
الهدف: إبلاغ المستخدم بأن حسابه قيد المراجعة.
المكونات الفريدة: الرسم التوضيحي يركز على التأكيد أو المراجعة (مظروف وعلامة صح).
التفاعل: النقر على زر "أبدأ" ينتقل إلى الشاشة الرئيسية أو شاشة تسجيل الدخول. النقر على "عودة" يعود إلى الصفحة 2. النقر على "تخطي" ينتقل إلى شاشة تسجيل الدخول أو الشاشة الرئيسية.
تطبيق Design Patterns:
Singleton Pattern (لإدارة الحالة العامة): يمكن استخدام Singleton لإدارة حالة التطبيق العامة مثل تفضيلات اللغة أو معلومات المستخدم الأساسية التي تحتاج إلى الوصول إليها من أي مكان في التطبيق. على سبيل المثال، يمكن أن يكون هناك AppConfig Singleton يدير إعدادات اللغة الحالية.
Factory Pattern (لإنشاء الرسوم التوضيحية): إذا كانت الرسوم التوضيحية تتغير بناءً على نوع الصفحة، يمكن استخدام Factory Method لإنشاء IllustrationWidgets مختلفة بناءً على معلمات محددة، مما يقلل من التكرار في الكود ويزيد من مرونته.
Strategy Pattern (للتنقل): يمكن استخدام Strategy Pattern لتحديد سلوك التنقل (Navigation) بناءً على سياق معين (مثل النقر على "تخطي" الذي قد يؤدي إلى شاشة مختلفة اعتمادًا على ما إذا كان المستخدم قد سجل الدخول من قبل أم لا). يمكن تعريف واجهة NavigationStrategy وتطبيقات مختلفة لها.
Observer Pattern (لإدارة مؤشرات الصفحات): يمكن استخدام Observer Pattern (أو ما يعادله في Flutter مثل ChangeNotifier مع Provider) لمراقبة تغيير الصفحة الحالية في PageView وتحديث مؤشرات الصفحات بناءً على ذلك.
Composite Pattern (للمكونات المعقدة): يمكن اعتبار كل صفحة كـ Composite من المكونات الأصغر (مثل شريط الحالة، زر التخطي، الرسم التوضيحي، إلخ). هذا يساعد في بناء واجهات مستخدم معقدة من مكونات بسيطة وقابلة لإعادة الاستخدام.
Builder Pattern (لبناء الواجهة): يمكن استخدام Builder Pattern لبناء واجهة المستخدم بشكل تدريجي ومعقد، خاصة عند التعامل مع ListView.builder أو GridView.builder حيث يتم بناء العناصر عند الحاجة إليها.
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو get أو riverpod لإدارة الحالة.
flutter_svg لعرض رسوم SVG التوضيحية.
country_flags أو flag_icons لعرض الأعلام في محدد اللغة.
shared_preferences لتخزين تفضيلات المستخدم مثل اللغة.
تزرية الكود (Code Structuring):
lib/
├── main.dart
├── core/
│   ├── constants/
│   │   └── app_constants.dart
│   ├── services/
│   │   └── navigation_service.dart
│   └── utils/
│       └── app_config.dart (Singleton)
├── data/
│   └── models/
│       └── user_model.dart
├── domain/
│   └── repositories/
│       └── auth_repository.dart
├── presentation/
│   ├── common_widgets/
│   │   ├── app_button.dart
│   │   ├── language_selector.dart
│   │   ├── page_indicator.dart
│   │   └── illustration_widget.dart (Factory Pattern)
│   ├── onboarding/
│   │   ├── pages/
│   │   │   ├── onboarding_page_1.dart
│   │   │   ├── onboarding_page_2.dart
│   │   │   └── onboarding_page_3.dart
│   │   └── onboarding_viewmodel.dart (State Management)
│   ├── auth/
│   │   ├── pages/
│   │   │   ├── login_page.dart
│   │   │   └── register_page.dart
│   │   └── auth_viewmodel.dart
│   └── home/
│       └── pages/
│           └── home_page.dart
└── routes/
    └── app_router.dart
ملاحظات إضافية:
يجب أن تكون النصوص قابلة للترجمة (Internationalization) باستخدام flutter_localizations أو حزم أخرى مثل easy_localization.
يجب أن يكون التصميم متجاوبًا (Responsive Design) ليتناسب مع أحجام الشاشات المختلفة باستخدام MediaQuery أو حزم مثل flutter_screenutil.
2. صفحة تسجيل الدخول/إنشاء حساب (Login/Registration Entry Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٢٦_com_schoolz_io_MainActivity.jpg
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٣٢_com_schoolz_io_MainActivity.jpg
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٣٦_com_schoolz_io_MainActivity.jpg
الوصف:
هذه الصفحات هي نقاط الدخول الرئيسية للتطبيق، حيث يمكن للمستخدمين اختيار تسجيل الدخول أو إنشاء حساب جديد، أو حتى حساب التكلفة قبل التسجيل. تتميز بوجود شعار التطبيق وخيارات متعددة للمتابعة.
المكونات المشتركة (Common Components):
شريط الحالة العلوي (Status Bar): كما في الصفحات السابقة.
شعار التطبيق (App Logo): Image.asset أو SvgPicture.asset لشعار "schoolz" مع الأيقونة المميزة. يجب أن يكون الشعار واضحًا وفي مكان بارز.
محدد اللغة (Language Selector): نفس المكون المستخدم في صفحات الترحيب، مما يضمن الاتساق في تجربة المستخدم.
الرسوم التوضيحية (Illustrations): نفس المكون المستخدم في صفحات الترحيب، مع تغيير الرسم ليعكس وظيفة الصفحة (تسجيل الدخول/إنشاء حساب).
عنوان الصفحة (Page Title): Text Widget بخط كبير ووزن ثقيل.
مؤشرات الصفحات (Page Indicators): نفس المكون المستخدم في صفحات الترحيب، للإشارة إلى تقدم المستخدم في عملية الإعداد الأولية.
زر حساب التكلفة (Cost Calculation Button): ElevatedButton أو OutlinedButton بلون خلفية فاتح (أخضر فاتح) ونص بلون داكن، مع أيقونة آلة حاسبة. هذا الزر يوجه المستخدم إلى صفحة منفصلة لحساب التكلفة.
زر إنشاء حساب (Create Account Button): ElevatedButton بتصميم مميز (لون خلفية أصفر، نص داكن، أيقونة شخص وعلامة زائد). هذا الزر هو الخيار الأساسي للمستخدمين الجدد.
زر الدخول (Login Button/Link): TextButton أو InkWell بنص "الدخول" مع سهم. هذا الرابط يوجه المستخدمين الحاليين إلى صفحة تسجيل الدخول.
تصميم الصفحات الفردية (Individual Page Design):
الصفحة 4 (تسجيل الدخول/إنشاء حساب):
الهدف: تقديم خيارات للمستخدم لبدء استخدام التطبيق (تسجيل الدخول، إنشاء حساب، حساب التكلفة).
المكونات الفريدة: لا توجد مكونات فريدة جوهرية بخلاف الترتيب والتصميم العام الذي يجمع بين عناصر تسجيل الدخول/الترحيب.
التفاعل: النقر على "حساب التكلفة" يوجه إلى صفحة حساب التكلفة. النقر على "إنشاء حساب" يوجه إلى صفحة التسجيل. النقر على "الدخول" يوجه إلى صفحة تسجيل الدخول.
الصفحة 5 (إضافة الأبناء والمواقع - مع شعار التطبيق):
الهدف: نفس هدف الصفحة 2، ولكن مع وجود شعار التطبيق بدلاً من زر التخطي، مما يشير إلى أن المستخدم قد يكون في تدفق مختلف (ربما بعد تسجيل الدخول الأولي).
المكونات الفريدة: استبدال زر التخطي بشعار التطبيق.
التفاعل: نفس تفاعلات الصفحة 2، ولكن مع إضافة أزرار "حساب التكلفة" و"إنشاء حساب" و"الدخول" في الأسفل.
الصفحة 6 (تأكيد الحساب - مع شعار التطبيق):
الهدف: نفس هدف الصفحة 3، ولكن مع وجود شعار التطبيق بدلاً من زر التخطي.
المكونات الفريدة: استبدال زر التخطي بشعار التطبيق.
التفاعل: نفس تفاعلات الصفحة 3، ولكن مع إضافة أزرار "حساب التكلفة" و"إنشاء حساب" و"الدخول" في الأسفل.
تطبيق Design Patterns:
Strategy Pattern (للتنقل بين خيارات الدخول): يمكن استخدام Strategy Pattern لتحديد مسار المستخدم بناءً على الزر الذي يختاره (حساب التكلفة، إنشاء حساب، دخول). كل زر يمثل استراتيجية مختلفة للتنقل.
Template Method Pattern (لصفحات الترحيب المشتركة): يمكن تعريف OnboardingPageTemplate كـ Abstract Class يحتوي على الهيكل العام (شريط الحالة، محدد اللغة، الرسوم التوضيحية، العنوان، مؤشرات الصفحات) ويترك طرقًا مجردة (Abstract Methods) لتخصيص الرسوم التوضيحية والنصوص والأزرار لكل صفحة فرعية. هذا يقلل من تكرار الكود ويضمن الاتساق في التصميم.
Command Pattern (للأزرار): يمكن تغليف كل إجراء زر (مثل "إنشاء حساب" أو "حساب التكلفة") في كائن Command، مما يفصل بين الواجهة والإجراء الذي يتم تنفيذه، ويسهل إضافة وظائف جديدة أو تغيير السلوك.
State Pattern (لإدارة حالة الأزرار): إذا كانت حالة الأزرار تتغير (مثل التمكين/التعطيل بناءً على شروط معينة)، يمكن استخدام State Pattern لإدارة هذه الحالات بشكل نظيف.
المكتبات المحتملة (Potential Libraries):
بالإضافة إلى المكتبات المذكورة سابقًا، قد نحتاج إلى حزم لإدارة الأيقونات المخصصة إذا لم تكن متوفرة في MaterialIcons.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── common_widgets/
│   │   ├── app_logo.dart
│   │   └── primary_button.dart
│   ├── auth/
│   │   ├── pages/
│   │   │   └── auth_entry_page.dart
│   │   └── auth_viewmodel.dart
ملاحظات إضافية:
يجب أن تكون الرسوم التوضيحية متسقة في الأسلوب عبر جميع صفحات الترحيب والدخول.
التركيز على سهولة الاستخدام ووضوح الخيارات للمستخدمين الجدد.
3. صفحة التسجيل (Registration Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٤٤_com_schoolz_io_MainActivity.jpg
الوصف:
تتيح هذه الصفحة للمستخدمين الجدد إنشاء حساب في التطبيق عن طريق إدخال معلومات شخصية وأمنية. كما توفر خيارات للتسجيل السريع عبر حسابات التواصل الاجتماعي.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
عنوان الصفحة (Page Title): نص "التسجيل" بخط كبير وواضح.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
حقول الإدخال (Input Fields):
اسم الوالدين (Parent's Name): TextFormField مع أيقونة شخص (يمكن استخدام Icon(Icons.person)).
الإيميل (Email): TextFormField مع أيقونة مظروف (يمكن استخدام Icon(Icons.email)). يجب أن يكون نوع لوحة المفاتيح TextInputType.emailAddress.
رقم الموبايل (Mobile Number): TextFormField مع أيقونة هاتف (يمكن استخدام Icon(Icons.phone)). يجب أن يكون نوع لوحة المفاتيح TextInputType.phone.
الرقم السري (Password): TextFormField مع أيقونة قفل (يمكن استخدام Icon(Icons.lock)) وأيقونة عين (يمكن استخدام Icon(Icons.visibility) و Icon(Icons.visibility_off)) للتبديل بين إظهار وإخفاء كلمة المرور. يجب أن يكون obscureText صحيحًا بشكل افتراضي.
زر التسجيل (Register Button): ElevatedButton كبير باللون الأصفر مع نص "التسجيل" وأيقونة شخص وعلامة زائد. عند النقر، يقوم بمعالجة بيانات التسجيل.
خيارات التسجيل بواسطة (Register with options): Row يحتوي على Divider ونص "التسجيل بواسطة"، يليه أزرار ElevatedButton أو OutlinedButton لتسجيل الدخول عبر "جوجل" و"فيسبوك". يجب أن تحتوي هذه الأزرار على شعارات جوجل وفيسبوك المناسبة.
رابط تسجيل الدخول (Login Link): TextButton أو GestureDetector بنص "لدي حساب؟ الدخول". "الدخول" يجب أن يكون رابطًا قابلاً للنقر ينقل المستخدم إلى صفحة تسجيل الدخول.
تطبيق Design Patterns:
Builder Pattern (لنماذج الإدخال): يمكن استخدام Builder Pattern لإنشاء TextFormFields بشكل ديناميكي ومرن، خاصة إذا كانت هناك قواعد تحقق من الصحة (Validation Rules) مختلفة لكل حقل. يمكن أن يكون هناك FormFieldBuilder يقوم ببناء الحقول بناءً على نوع البيانات المطلوبة.
Validator Pattern (للتحقق من الصحة): يجب تطبيق Validator Pattern للتحقق من صحة المدخلات في حقول النص (مثل تنسيق البريد الإلكتروني، قوة كلمة المرور، تنسيق رقم الهاتف). يمكن تعريف فئات InputValidator مختلفة لكل نوع من أنواع التحقق.
Provider/BLoC/Riverpod (لإدارة حالة النموذج): لإدارة حالة حقول النموذج (القيم المدخلة، أخطاء التحقق من الصحة، حالة التحميل)، يجب استخدام حل لإدارة الحالة. على سبيل المثال، يمكن لـ RegistrationViewModel (باستخدام Provider) أن يحتوي على TextEditingControllers لكل حقل، ومنطق التحقق من الصحة، ومنطق إرسال البيانات.
Adapter Pattern (للتسجيل عبر الطرف الثالث): إذا كانت هناك واجهات برمجة تطبيقات مختلفة للتسجيل عبر جوجل وفيسبوك، يمكن استخدام Adapter Pattern لتوحيد هذه الواجهات تحت واجهة واحدة (مثل SocialAuthAdapter)، مما يجعل الكود أكثر نظافة وسهولة في التوسع.
المكتبات المحتملة (Potential Libraries):
firebase_auth أو supabase_auth للتعامل مع مصادقة المستخدم.
google_sign_in و flutter_facebook_auth للتسجيل عبر جوجل وفيسبوك.
form_builder_validators للتحقق من صحة حقول النموذج.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── auth/
│   │   ├── pages/
│   │   │   └── register_page.dart
│   │   ├── widgets/
│   │   │   ├── custom_text_form_field.dart
│   │   │   └── social_auth_buttons.dart
│   │   └── viewmodels/
│   │       └── register_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── user.dart
│   └── usecases/
│       └── register_user.dart
├── data/
│   ├── repositories/
│   │   └── auth_repository_impl.dart
│   └── datasources/
│       └── remote_auth_datasource.dart
ملاحظات إضافية:
يجب توفير ملاحظات مرئية للمستخدم عند إدخال بيانات غير صحيحة (مثل رسائل خطأ تحت حقول الإدخال).
يجب التعامل مع حالات التحميل (Loading States) وعرض مؤشر تحميل عند إرسال البيانات.
النظر في إضافة خيار "تذكرني" (Remember Me) إذا كان ذلك مناسبًا لتدفق تسجيل الدخول.
4. صفحة تسجيل الدخول (Login Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠١٥٣_com_schoolz_io_MainActivity.jpg
الوصف:
تتيح هذه الصفحة للمستخدمين الحاليين تسجيل الدخول إلى التطبيق باستخدام رقم الهاتف وكلمة المرور. كما توفر خيارات لتسجيل الدخول السريع عبر حسابات التواصل الاجتماعي ورابط لاستعادة كلمة المرور.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
عنوان الصفحة (Page Title): نص "الدخول" بخط كبير وواضح.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
شعار التطبيق (App Logo): شعار "Schoolz" مع الأيقونة المميزة، يقع في الجزء العلوي من الشاشة.
حقول الإدخال (Input Fields):
رقم الموبايل (Mobile Number): TextFormField مع أيقونة هاتف (يمكن استخدام Icon(Icons.phone)). يجب أن يكون نوع لوحة المفاتيح TextInputType.phone.
الرقم السري (Password): TextFormField مع أيقونة قفل (يمكن استخدام Icon(Icons.lock)) وأيقونة عين (يمكن استخدام Icon(Icons.visibility) و Icon(Icons.visibility_off)) للتبديل بين إظهار وإخفاء كلمة المرور. يجب أن يكون obscureText صحيحًا بشكل افتراضي.
زر الدخول (Login Button): ElevatedButton كبير باللون الأصفر مع نص "الدخول" وأيقونة شخص. عند النقر، يقوم بمعالجة بيانات تسجيل الدخول.
رابط نسيت كلمات المرور (Forgot Password Link): TextButton أو GestureDetector بنص "نسيت كلمات المرور !!" باللون الأخضر الفاتح، وهو رابط ينقل المستخدم إلى صفحة استعادة كلمة المرور.
خيارات تسجيل الدخول بواسطة (Login with options): Row يحتوي على Divider ونص "تسجيل الدخول بواسطة"، يليه أزرار ElevatedButton أو OutlinedButton لتسجيل الدخول عبر "جوجل" و"فيسبوك". يجب أن تحتوي هذه الأزرار على شعارات جوجل وفيسبوك المناسبة.
رابط التسجيل (Sign Up Link): TextButton أو GestureDetector بنص "التسجيل" باللون الأخضر الفاتح، وهو رابط قابل للنقر للانتقال إلى صفحة إنشاء حساب جديد.
تطبيق Design Patterns:
Builder Pattern (لنماذج الإدخال): كما في صفحة التسجيل، يمكن استخدام Builder Pattern لإنشاء TextFormFields بشكل ديناميكي ومرن، مع قواعد تحقق من الصحة المناسبة.
Validator Pattern (للتحقق من الصحة): تطبيق Validator Pattern للتحقق من صحة المدخلات في حقول النص (مثل تنسيق رقم الهاتف، كلمة المرور).
Provider/BLoC/Riverpod (لإدارة حالة النموذج): لإدارة حالة حقول النموذج (القيم المدخلة، أخطاء التحقق من الصحة، حالة التحميل)، يجب استخدام حل لإدارة الحالة. يمكن لـ LoginViewModel أن يحتوي على TextEditingControllers لكل حقل، ومنطق التحقق من الصحة، ومنطق إرسال البيانات.
Adapter Pattern (لتسجيل الدخول عبر الطرف الثالث): استخدام Adapter Pattern لتوحيد واجهات برمجة التطبيقات المختلفة لتسجيل الدخول عبر جوجل وفيسبوك تحت واجهة واحدة.
Command Pattern (للأزرار والروابط): تغليف كل إجراء زر أو رابط (مثل "الدخول" أو "نسيت كلمات المرور") في كائن Command، مما يفصل بين الواجهة والإجراء الذي يتم تنفيذه.
المكتبات المحتملة (Potential Libraries):
firebase_auth أو supabase_auth للتعامل مع مصادقة المستخدم.
google_sign_in و flutter_facebook_auth لتسجيل الدخول عبر جوجل وفيسبوك.
form_builder_validators للتحقق من صحة حقول النموذج.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── auth/
│   │   ├── pages/
│   │   │   └── login_page.dart
│   │   ├── widgets/
│   │   │   ├── custom_text_form_field.dart
│   │   │   └── social_auth_buttons.dart
│   │   └── viewmodels/
│   │       └── login_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── user.dart
│   └── usecases/
│       └── login_user.dart
├── data/
│   ├── repositories/
│   │   └── auth_repository_impl.dart
│   └── datasources/
│       └── remote_auth_datasource.dart
ملاحظات إضافية:
يجب توفير ملاحظات مرئية للمستخدم عند إدخال بيانات غير صحيحة.
يجب التعامل مع حالات التحميل وعرض مؤشر تحميل عند إرسال البيانات.
النظر في إضافة خيار "تذكرني" (Remember Me) للحفاظ على جلسة المستخدم.
تأمين حقل كلمة المرور بشكل صحيح (مثل استخدام obscureText وتشفير البيانات عند الإرسال).
5. القائمة الجانبية (Drawer Menu)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٢١٦_com_schoolz_io_MainActivity.jpg
الوصف:
القائمة الجانبية هي عنصر تنقل شائع في تطبيقات الهاتف المحمول، توفر وصولاً سريعًا إلى الأقسام الرئيسية للتطبيق وإعدادات المستخدم. تظهر عادةً من جانب الشاشة عند النقر على أيقونة القائمة (Hamburger icon).
المكونات الرئيسية (Main Components):
رأس القائمة (Drawer Header): يحتوي على:
صورة/أيقونة المستخدم (User Profile Picture/Icon): CircleAvatar أو Container دائري يحتوي على أيقونة شخص أو صورة ملف شخصي للمستخدم. يمكن أن يكون قابلاً للنقر للانتقال إلى صفحة الملف الشخصي.
اسم المستخدم (User Name): Text Widget يعرض اسم المستخدم (مثال: "Abu Bakr Khaled-1-72").
أيقونة الموقع (Location Icon): Icon(Icons.location_on) أو ما شابه، بجانب اسم المستخدم، قد تشير إلى موقع المستخدم أو مكان إقامته.
قائمة الروابط (Navigation Links): مجموعة من ListTiles أو InkWells، كل منها يمثل رابطًا لصفحة معينة. كل ListTile يجب أن يحتوي على:
أيقونة (Icon): أيقونة ذات صلة بالقسم (مثال: Icons.receipt للفواتير، Icons.shopping_cart للطلبات، Icons.bus_alert لسجل الرحلات، Icons.chat للشكاوى، Icons.star للتقييم، Icons.subscriptions للاشتراكات).
نص الرابط (Link Text): نص يصف القسم (مثال: "الفواتير", "الطلبات", "سجل الرحلات").
محدد اللغة (Language Selector): قسم خاص ضمن القائمة الجانبية يسمح للمستخدم بتبديل لغة التطبيق. يمكن أن يكون عبارة عن Row يحتوي على Image.asset للأعلام (مثل علم السعودية وعلم المملكة المتحدة) ونصوص "عربي" و"إنجليزي". عند النقر على أي من الخيارين، يتم تحديث لغة التطبيق بالكامل.
روابط الدعم والإعدادات (Support and Settings Links): مجموعة أخرى من ListTiles أو TextButtons لروابط مثل "تواصل مع خدمة العملاء", "شروط وأحكام الخدمة", "الأسئلة الشائعة", "عن البرنامج".
زر تسجيل الخروج (Logout Button): ListTile أو TextButton بنص "تسجيل خروج". عند النقر، يقوم بتسجيل خروج المستخدم من التطبيق.
تطبيق Design Patterns:
Builder Pattern (لبناء عناصر القائمة): يمكن استخدام Builder Pattern لإنشاء عناصر القائمة (ListTiles) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات DrawerItem تحتوي على الأيقونة والنص والمسار). هذا يجعل القائمة قابلة للتوسع بسهولة.
Command Pattern (لإجراءات القائمة): كل عنصر في القائمة الجانبية يمثل أمرًا (Command) يتم تنفيذه عند النقر عليه (مثل الانتقال إلى صفحة جديدة، أو تسجيل الخروج). يمكن تغليف هذه الأوامر في كائنات Command منفصلة، مما يفصل بين الواجهة ومنطق العمل.
Observer Pattern (لتحديث واجهة المستخدم بعد تغيير اللغة): عند تغيير اللغة من محدد اللغة في القائمة الجانبية، يجب أن يتم تحديث جميع النصوص في التطبيق. يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC) لإخطار جميع الـ Widgets التي تعرض نصوصًا بضرورة إعادة البناء (rebuild) لعرض النصوص باللغة الجديدة.
Strategy Pattern (لإدارة التنقل): يمكن استخدام Strategy Pattern لتحديد كيفية التنقل عند النقر على عناصر القائمة. على سبيل المثال، قد يكون هناك NavigationStrategy يقوم بالدفع (push) إلى صفحة جديدة، أو استبدال (replace) الصفحة الحالية، أو فتح نافذة منبثقة.
المكتبات المحتملة (Potential Libraries):
flutter_localizations أو easy_localization لدعم اللغات المتعددة (Internationalization).
provider أو flutter_bloc أو get لإدارة حالة المستخدم واللغة.
url_launcher لفتح روابط الويب (مثل شروط الخدمة أو التواصل مع خدمة العملاء).
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── common_widgets/
│   │   └── app_drawer.dart
│   ├── home/
│   │   └── widgets/
│   │       └── drawer_header.dart
│   │       └── drawer_list_tile.dart
│   ├── settings/
│   │   └── language_settings_viewmodel.dart
│   └── auth/
│       └── auth_viewmodel.dart (لتسجيل الخروج)
├── core/
│   ├── localization/
│   │   └── app_localization.dart
│   └── services/
│       └── auth_service.dart
ملاحظات إضافية:
يجب أن تكون القائمة الجانبية قابلة للتمرير (Scrollable) إذا كان عدد العناصر كبيرًا.
الاهتمام بتجربة المستخدم عند فتح وإغلاق القائمة الجانبية (مثل الرسوم المتحركة السلسة).
يمكن استخدام UserAccountsDrawerHeader كـ Widget جاهز لرأس القائمة الجانبية في Flutter.
6. الشاشة الرئيسية (Home Screen)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٢٢١_com_schoolz_io_MainActivity.jpg
الوصف:
الشاشة الرئيسية هي الواجهة الأساسية للمستخدم بعد تسجيل الدخول، حيث تعرض معلومات مهمة مثل الرحلات المجدولة لليوم وتوفر نقاط وصول سريعة لأقسام التطبيق الأخرى عبر شريط التنقل السفلي.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
أيقونة المستخدم (User Icon): CircleAvatar أو IconButton في الزاوية اليمنى (أو اليسرى حسب اتجاه اللغة) لفتح القائمة الجانبية أو الانتقال إلى صفحة الملف الشخصي.
عنوان الصفحة (Page Title): نص "الرئيسية" في منتصف شريط التطبيق.
زر القائمة (Menu Button): IconButton بأيقونة ثلاثة خطوط أفقية (Hamburger icon) في الزاوية اليسرى (أو اليمنى حسب اتجاه اللغة) لفتح القائمة الجانبية.
أزرار تبديل الرحلات (Trip Toggle Buttons): مجموعة من الأزرار أو SegmentedButtons لتبديل عرض الرحلات بين "رحلات اليوم" و"كل الرحلات". يجب أن يكون الزر النشط مميزًا بصريًا (مثل لون خلفية مختلف).
رسالة لا توجد رحلات (No Trips Message): Container أو Card بلون خلفية فاتح (أصفر فاتح) يحتوي على نص "ليس لديك رحلات". يظهر هذا المكون عندما لا تكون هناك رحلات مجدولة للعرض.
قائمة الرحلات (Trip List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالرحلات المجدولة. كل عنصر في القائمة (Trip Item) يجب أن يعرض تفاصيل الرحلة مثل الوقت، الوجهة، حالة الرحلة، إلخ.
شريط التنقل السفلي (Bottom Navigation Bar): BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا (مثل أيقونة بلون مختلف ونص بلون مختلف).
حسابي (My Account): BottomNavigationBarItem مع أيقونة شخص.
أبناء (Children): BottomNavigationBarItem مع أيقونة مجموعة أشخاص.
الإشعارات (Notifications): BottomNavigationBarItem مع أيقونة جرس.
الرئيسية (Home): BottomNavigationBarItem مع أيقونة منزل (يجب أن يكون هذا العنصر هو النشط افتراضيًا عند فتح الشاشة الرئيسية).
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة الرحلات): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات الرحلات (مثل إضافة رحلة جديدة، إلغاء رحلة) وتحديث واجهة المستخدم تلقائيًا. على سبيل المثال، TripViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث قائمة الرحلات.
Strategy Pattern (لتبديل عرض الرحلات): يمكن استخدام Strategy Pattern لتحديد كيفية عرض الرحلات بناءً على الزر المختار ("رحلات اليوم" أو "كل الرحلات"). يمكن تعريف واجهة TripDisplayStrategy وتطبيقات مختلفة لها (مثل TodayTripsStrategy, AllTripsStrategy).
Composite Pattern (لعناصر قائمة الرحلات): إذا كانت عناصر قائمة الرحلات معقدة وتحتوي على مكونات فرعية، يمكن استخدام Composite Pattern لتجميع هذه المكونات في كائن واحد (مثل TripCardWidget)، مما يسهل إعادة استخدامها وإدارتها.
State Pattern (لإدارة حالة شريط التنقل السفلي): يمكن استخدام State Pattern لإدارة حالة شريط التنقل السفلي، حيث يتم تحديد أيقونة وعنوان الصفحة النشطة بناءً على الحالة الحالية للتطبيق.
Singleton Pattern (لخدمة التنقل): يمكن استخدام Singleton لـ NavigationService الذي يدير التنقل بين الصفحات، مما يضمن وجود مثيل واحد فقط لخدمة التنقل في جميع أنحاء التطبيق.
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات الرحلات من API.
intl لتنسيق التواريخ والأوقات.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── home/
│   │   ├── pages/
│   │   │   └── home_page.dart
│   │   ├── widgets/
│   │   │   ├── trip_toggle_buttons.dart
│   │   │   ├── no_trips_message.dart
│   │   │   └── trip_list_item.dart
│   │   └── viewmodels/
│   │       └── home_viewmodel.dart
│   ├── common_widgets/
│   │   └── bottom_nav_bar.dart
├── domain/
│   ├── entities/
│   │   └── trip.dart
│   └── usecases/
│       └── get_trips.dart
├── data/
│   ├── repositories/
│   │   └── trip_repository_impl.dart
│   └── datasources/
│       └── remote_trip_datasource.dart
ملاحظات إضافية:
يجب أن تكون الشاشة الرئيسية سريعة التحميل وتوفر تجربة مستخدم سلسة.
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة الرحلات.
يجب أن يكون هناك منطق للتعامل مع الأخطاء عند جلب بيانات الرحلات (مثل عرض رسالة خطأ للمستخدم).
7. صفحة الإشعارات (Notifications Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٢٢٦_com_schoolz_io_MainActivity.jpg
الوصف:
تعرض هذه الصفحة جميع الإشعارات الواردة للمستخدم. في حال عدم وجود إشعارات، يتم عرض رسالة توضيحية. تتبع هذه الصفحة نفس الهيكل العام للصفحات الداخلية الأخرى، مع شريط تطبيق علوي وشريط تنقل سفلي.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
أيقونة المستخدم (User Icon): CircleAvatar أو IconButton في الزاوية اليمنى (أو اليسرى حسب اتجاه اللغة) لفتح القائمة الجانبية أو الانتقال إلى صفحة الملف الشخصي.
عنوان الصفحة (Page Title): نص "الإشعارات" في منتصف شريط التطبيق.
زر القائمة (Menu Button): IconButton بأيقونة ثلاثة خطوط أفقية (Hamburger icon) في الزاوية اليسرى (أو اليمنى حسب اتجاه اللغة) لفتح القائمة الجانبية.
رسالة لا توجد إشعارات (No Notifications Message): Text Widget يعرض نص "ليس لديك إشعارات" في منتصف الشاشة عندما تكون قائمة الإشعارات فارغة. يمكن أن يكون مصحوبًا بأيقونة توضيحية.
قائمة الإشعارات (Notifications List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالإشعارات. كل عنصر في القائمة (Notification Item) يجب أن يعرض تفاصيل الإشعار مثل العنوان، المحتوى، والتاريخ/الوقت. يمكن أن تكون الإشعارات قابلة للنقر لعرض تفاصيل إضافية أو اتخاذ إجراء.
شريط التنقل السفلي (Bottom Navigation Bar): BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
حسابي (My Account): BottomNavigationBarItem مع أيقونة شخص.
أبناء (Children): BottomNavigationBarItem مع أيقونة مجموعة أشخاص.
الإشعارات (Notifications): BottomNavigationBarItem مع أيقونة جرس (يجب أن يكون هذا العنصر هو النشط عند فتح صفحة الإشعارات).
الرئيسية (Home): BottomNavigationBarItem مع أيقونة منزل.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة الإشعارات): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات الإشعارات (مثل وصول إشعار جديد، قراءة إشعار) وتحديث واجهة المستخدم تلقائيًا. على سبيل المثال، NotificationViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث قائمة الإشعارات.
Builder Pattern (لبناء عناصر قائمة الإشعارات): يمكن استخدام Builder Pattern لإنشاء عناصر قائمة الإشعارات (Notification List Items) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات Notification تحتوي على العنوان والمحتوى). هذا يجعل القائمة قابلة للتوسع بسهولة.
Strategy Pattern (للتعامل مع أنواع الإشعارات المختلفة): إذا كانت هناك أنواع مختلفة من الإشعارات (مثل إشعارات عامة، إشعارات خاصة بالرحلات، إشعارات إدارية)، يمكن استخدام Strategy Pattern لتحديد كيفية عرض كل نوع من الإشعارات أو الإجراء الذي يتم اتخاذه عند النقر عليه.
Repository Pattern (لجلب الإشعارات): لفصل منطق جلب البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك NotificationRepository مسؤول عن جلب الإشعارات من مصدر البيانات (محلي أو بعيد).
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات الإشعارات من API.
firebase_messaging أو flutter_local_notifications للتعامل مع الإشعارات الفورية (Push Notifications).
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── notifications/
│   │   ├── pages/
│   │   │   └── notifications_page.dart
│   │   ├── widgets/
│   │   │   └── notification_list_item.dart
│   │   └── viewmodels/
│   │       └── notifications_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── notification.dart
│   └── usecases/
│       └── get_notifications.dart
├── data/
│   ├── repositories/
│   │   └── notification_repository_impl.dart
│   └── datasources/
│       └── remote_notification_datasource.dart
ملاحظات إضافية:
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة الإشعارات.
يمكن إضافة خيارات لتصفية الإشعارات (مقروءة/غير مقروءة) أو حذفها.
يجب أن يكون هناك مؤشر بصري للإشعارات غير المقروءة (مثل نقطة حمراء على أيقونة الجرس في شريط التنقل السفلي).
8. صفحة الأبناء (Children Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٢٢٩_com_schoolz_io_MainActivity.jpg
الوصف:
تتيح هذه الصفحة للمستخدم إدارة معلومات أبنائه المسجلين في التطبيق. في حال عدم وجود أبناء، يتم عرض رسالة توضيحية مع زر لإضافة طفل جديد. تتبع هذه الصفحة نفس الهيكل العام للصفحات الداخلية الأخرى، مع شريط تطبيق علوي وشريط تنقل سفلي.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
أيقونة المستخدم (User Icon): CircleAvatar أو IconButton في الزاوية اليمنى (أو اليسرى حسب اتجاه اللغة) لفتح القائمة الجانبية أو الانتقال إلى صفحة الملف الشخصي.
عنوان الصفحة (Page Title): نص "أبناء" في منتصف شريط التطبيق.
زر القائمة (Menu Button): IconButton بأيقونة ثلاثة خطوط أفقية (Hamburger icon) في الزاوية اليسرى (أو اليمنى حسب اتجاه اللغة) لفتح القائمة الجانبية.
رسالة لا يوجد أطفال (No Children Message): Container أو Card بلون خلفية فاتح (أصفر فاتح) يحتوي على نص "لا يوجد لديك أطفال". يظهر هذا المكون عندما تكون قائمة الأبناء فارغة.
زر إضافة (Add Button): FloatingActionButton دائري كبير باللون الأصفر مع أيقونة زائد (Icons.add). يقع في الجزء السفلي من الشاشة، ويهدف إلى إضافة طفل جديد.
قائمة الأبناء (Children List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالأبناء المسجلين. كل عنصر في القائمة (Child Item) يجب أن يعرض تفاصيل الطفل مثل الاسم، العمر، المدرسة، إلخ. يمكن أن تكون عناصر القائمة قابلة للنقر لعرض تفاصيل إضافية أو تعديل معلومات الطفل.
شريط التنقل السفلي (Bottom Navigation Bar): BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
حسابي (My Account): BottomNavigationBarItem مع أيقونة شخص.
أبناء (Children): BottomNavigationBarItem مع أيقونة مجموعة أشخاص (يجب أن يكون هذا العنصر هو النشط عند فتح صفحة الأبناء).
الإشعارات (Notifications): BottomNavigationBarItem مع أيقونة جرس.
الرئيسية (Home): BottomNavigationBarItem مع أيقونة منزل.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة الأبناء): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات الأبناء (مثل إضافة طفل جديد، تعديل معلومات طفل) وتحديث واجهة المستخدم تلقائيًا. على سبيل المثال، ChildrenViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث قائمة الأبناء.
Builder Pattern (لبناء عناصر قائمة الأبناء): يمكن استخدام Builder Pattern لإنشاء عناصر قائمة الأبناء (Child List Items) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات Child تحتوي على الاسم، العمر، إلخ). هذا يجعل القائمة قابلة للتوسع بسهولة.
Repository Pattern (لجلب بيانات الأبناء): لفصل منطق جلب البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك ChildRepository مسؤول عن جلب بيانات الأبناء من مصدر البيانات (محلي أو بعيد).
Command Pattern (لزر الإضافة): يمكن تغليف إجراء إضافة طفل جديد في كائن Command، مما يفصل بين الواجهة ومنطق العمل، ويسهل إعادة استخدام هذا الإجراء في أماكن أخرى من التطبيق.
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات الأبناء من API.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── children/
│   │   ├── pages/
│   │   │   └── children_page.dart
│   │   ├── widgets/
│   │   │   ├── no_children_message.dart
│   │   │   └── child_list_item.dart
│   │   └── viewmodels/
│   │       └── children_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── child.dart
│   └── usecases/
│       └── get_children.dart
│       └── add_child.dart
├── data/
│   ├── repositories/
│   │   └── child_repository_impl.dart
│   └── datasources/
│       └── remote_child_datasource.dart
ملاحظات إضافية:
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة الأبناء.
يمكن إضافة وظيفة البحث أو التصفية إذا كان عدد الأبناء كبيرًا.
يجب أن يكون هناك تدفق واضح لإضافة طفل جديد (ربما صفحة منفصلة لإدخال التفاصيل).
9. صفحة حسابي (My Account Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٢٤١_com_schoolz_io_MainActivity.jpg
الوصف:
تتيح هذه الصفحة للمستخدم عرض وتعديل معلومات حسابه الشخصية، مثل الاسم، البريد الإلكتروني، العنوان، رقم الهاتف، وكلمة المرور. تعتبر هذه الصفحة مركزًا لإدارة الملف الشخصي للمستخدم.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
عنوان الصفحة (Page Title): نص "حسابي" في منتصف شريط التطبيق.
زر القائمة (Menu Button): IconButton بأيقونة ثلاثة خطوط أفقية (Hamburger icon) في الزاوية اليسرى (أو اليمنى حسب اتجاه اللغة) لفتح القائمة الجانبية.
صورة الملف الشخصي (Profile Picture): CircleAvatar كبير يعرض صورة المستخدم الافتراضية أو التي تم تحميلها. يجب أن يكون هناك أيقونة كاميرا صغيرة (Icons.camera_alt) متراكبة على الصورة، تشير إلى إمكانية تغيير الصورة. عند النقر عليها، يمكن فتح معرض الصور أو الكاميرا.
حقول معلومات الحساب (Account Information Fields): مجموعة من TextFormFields أو ListTiles مخصصة لعرض وتعديل معلومات المستخدم. كل حقل يجب أن يحتوي على:
أيقونة تعديل (Edit Icon): Icon(Icons.edit) أو ما شابه، تشير إلى أن الحقل قابل للتعديل. عند النقر عليها، يمكن تفعيل وضع التعديل للحقل أو فتح صفحة تعديل منفصلة.
اسم الحقل (Field Label): نص يصف نوع المعلومة (مثال: "الاسم", "الإيميل", "العنوان", "رقم الموبايل", "الرقم السري").
قيمة الحقل (Field Value): القيمة الحالية للمعلومة (مثال: "Abu Bakr Khaled-1-72", "", "0565108900").
أيقونة ذات صلة (Related Icon): أيقونة توضيحية بجانب القيمة (مثال: Icons.person, Icons.email, Icons.location_on, Icons.phone, Icons.lock).
شريط التنقل السفلي (Bottom Navigation Bar): BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
حسابي (My Account): BottomNavigationBarItem مع أيقونة شخص (يجب أن يكون هذا العنصر هو النشط عند فتح صفحة حسابي).
أبناء (Children): BottomNavigationBarItem مع أيقونة مجموعة أشخاص.
الإشعارات (Notifications): BottomNavigationBarItem مع أيقونة جرس.
الرئيسية (Home): BottomNavigationBarItem مع أيقونة منزل.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة الملف الشخصي): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات الملف الشخصي (مثل تحديث الاسم، تغيير البريد الإلكتروني) وتحديث واجهة المستخدم تلقائيًا. على سبيل المثال، ProfileViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث بيانات المستخدم.
Command Pattern (لإجراءات التعديل): كل إجراء تعديل (مثل تعديل الاسم، تغيير كلمة المرور) يمكن تغليفه في كائن Command. هذا يفصل بين الواجهة ومنطق العمل، ويسهل إضافة وظائف تعديل جديدة أو تغيير سلوك التعديل.
Repository Pattern (لجلب وتحديث بيانات المستخدم): لفصل منطق جلب وتحديث البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك UserRepository مسؤول عن التفاعل مع مصادر البيانات (محلي أو بعيد) لجلب وتحديث معلومات المستخدم.
Strategy Pattern (لتغيير الصورة): يمكن استخدام Strategy Pattern لتحديد كيفية تغيير صورة الملف الشخصي (مثل الاختيار من المعرض أو التقاط صورة جديدة بالكاميرا). يمكن تعريف واجهة ImagePickerStrategy وتطبيقات مختلفة لها.
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
image_picker لاختيار الصور من المعرض أو الكاميرا.
http أو dio لتحديث بيانات المستخدم عبر API.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── account/
│   │   ├── pages/
│   │   │   └── my_account_page.dart
│   │   ├── widgets/
│   │   │   ├── profile_picture_widget.dart
│   │   │   └── account_info_field.dart
│   │   └── viewmodels/
│   │       └── my_account_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── user_profile.dart
│   └── usecases/
│       └── get_user_profile.dart
│       └── update_user_profile.dart
├── data/
│   ├── repositories/
│   │   └── user_repository_impl.dart
│   └── datasources/
│       └── remote_user_datasource.dart
ملاحظات إضافية:
يجب توفير رسائل تأكيد للمستخدم عند حفظ التغييرات بنجاح أو عند حدوث أخطاء.
التعامل مع حالات التحميل عند تحديث البيانات.
تأمين عملية تغيير كلمة المرور بشكل خاص، ربما يتطلب إدخال كلمة المرور القديمة أو تأكيدها عبر البريد الإلكتروني/رسالة نصية.
10. صفحة الفواتير (Invoices Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٣١٢_com_schoolz_io_MainActivity.jpg
الوصف:
تعرض هذه الصفحة قائمة بالفواتير الخاصة بالمستخدم. تظهر الصورة مؤشر تحميل، مما يشير إلى أن الفواتير يتم جلبها بشكل ديناميكي من مصدر بيانات. في حال عدم وجود فواتير، يجب عرض رسالة توضيحية.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
عنوان الصفحة (Page Title): نص "الفواتير" في منتصف شريط التطبيق.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
مؤشر التحميل (Loading Indicator): CircularProgressIndicator أو LinearProgressIndicator يظهر في منتصف الشاشة أثناء جلب بيانات الفواتير. يجب أن يكون المؤشر مرئيًا وواضحًا.
قائمة الفواتير (Invoices List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالفواتير. كل عنصر في القائمة (Invoice Item) يجب أن يعرض تفاصيل الفاتورة مثل رقم الفاتورة، التاريخ، المبلغ، والحالة (مدفوعة/غير مدفوعة). يمكن أن تكون عناصر القائمة قابلة للنقر لعرض تفاصيل الفاتورة الكاملة.
رسالة لا توجد فواتير (No Invoices Message): (متوقعة) Text Widget يعرض نص "لا يوجد لديك فواتير" أو ما شابه، يظهر في منتصف الشاشة عندما تكون قائمة الفواتير فارغة بعد انتهاء التحميل.
شريط التنقل السفلي (Bottom Navigation Bar): (متوقع، بناءً على اتساق التصميم) BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة التحميل وبيانات الفواتير): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة حالة جلب البيانات (تحميل، نجاح، فشل) وتحديث واجهة المستخدم بناءً على ذلك (عرض مؤشر التحميل، عرض قائمة الفواتير، عرض رسالة الخطأ/لا توجد فواتير). على سبيل المثال، InvoicesViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث حالة الفواتير.
Builder Pattern (لبناء عناصر قائمة الفواتير): يمكن استخدام Builder Pattern لإنشاء عناصر قائمة الفواتير (Invoice List Items) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات Invoice تحتوي على التفاصيل). هذا يجعل القائمة قابلة للتوسع بسهولة.
Repository Pattern (لجلب بيانات الفواتير): لفصل منطق جلب البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك InvoiceRepository مسؤول عن جلب بيانات الفواتير من مصدر البيانات (محلي أو بعيد).
State Pattern (لإدارة حالات العرض): يمكن استخدام State Pattern لإدارة حالات العرض المختلفة للصفحة (حالة التحميل، حالة عرض البيانات، حالة عدم وجود بيانات، حالة الخطأ). كل حالة يمكن أن تكون كائنًا منفصلاً يحدد كيفية عرض الواجهة.
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات الفواتير من API.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── invoices/
│   │   ├── pages/
│   │   │   └── invoices_page.dart
│   │   ├── widgets/
│   │   │   └── invoice_list_item.dart
│   │   └── viewmodels/
│   │       └── invoices_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── invoice.dart
│   └── usecases/
│       └── get_invoices.dart
├── data/
│   ├── repositories/
│   │   └── invoice_repository_impl.dart
│   └── datasources/
│       └── remote_invoice_datasource.dart
ملاحظات إضافية:
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة الفواتير.
يمكن إضافة خيارات لتصفية الفواتير (حسب التاريخ، الحالة) أو البحث عنها.
يجب توفير رسائل خطأ واضحة للمستخدم في حال فشل جلب الفواتير.
11. صفحة كل الرحلات (All Trips Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٣٢٠_com_schoolz_io_MainActivity.jpg
الوصف:
تعرض هذه الصفحة جميع الرحلات الخاصة بالمستخدم، مع إمكانية تصفيتها حسب الحالة (القادمة، المكتملة، الملغاة). تظهر رسالة في حال عدم وجود رحلات مطابقة للتصفية المختارة.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
عنوان الصفحة (Page Title): نص "كل الرحلات" في منتصف شريط التطبيق.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
أزرار التصفية (Filter Buttons): مجموعة من الأزرار أو SegmentedButtons لتبديل عرض الرحلات بين "القادمة"، "مكتمل"، و"ألغيت". يجب أن يكون الزر النشط مميزًا بصريًا (مثل لون خلفية مختلف).
رسالة لا يوجد رحلات (No Trips Message): Text Widget يعرض نص "لا يوجد رحلات" في منتصف الشاشة عندما لا تكون هناك رحلات مطابقة للتصفية المختارة. يمكن أن يكون مصحوبًا بأيقونة توضيحية.
قائمة الرحلات (Trip List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالرحلات. كل عنصر في القائمة (Trip Item) يجب أن يعرض تفاصيل الرحلة مثل التاريخ، الوقت، الوجهة، حالة الرحلة، إلخ. يمكن أن تكون عناصر القائمة قابلة للنقر لعرض تفاصيل إضافية للرحلة.
شريط التنقل السفلي (Bottom Navigation Bar): (متوقع، بناءً على اتساق التصميم) BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة الرحلات والتصفية): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات الرحلات وتطبيق التصفية بناءً على الزر النشط، ثم تحديث واجهة المستخدم تلقائيًا. على سبيل المثال، AllTripsViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث قائمة الرحلات المفلترة.
Strategy Pattern (للتصفية): يمكن استخدام Strategy Pattern لتطبيق منطق التصفية المختلف بناءً على الزر المختار ("القادمة"، "مكتمل"، "ألغيت"). يمكن تعريف واجهة TripFilterStrategy وتطبيقات مختلفة لها (مثل UpcomingTripsFilter, CompletedTripsFilter, CancelledTripsFilter).
Builder Pattern (لبناء عناصر قائمة الرحلات): يمكن استخدام Builder Pattern لإنشاء عناصر قائمة الرحلات (Trip List Items) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات Trip تحتوي على التفاصيل). هذا يجعل القائمة قابلة للتوسع بسهولة.
Repository Pattern (لجلب بيانات الرحلات): لفصل منطق جلب البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك TripRepository مسؤول عن جلب بيانات الرحلات من مصدر البيانات (محلي أو بعيد).
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات الرحلات من API.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── trips/
│   │   ├── pages/
│   │   │   └── all_trips_page.dart
│   │   ├── widgets/
│   │   │   ├── trip_filter_buttons.dart
│   │   │   ├── no_trips_message.dart
│   │   │   └── trip_list_item.dart
│   │   └── viewmodels/
│   │       └── all_trips_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── trip.dart
│   └── usecases/
│       └── get_filtered_trips.dart
├── data/
│   ├── repositories/
│   │   └── trip_repository_impl.dart
│   └── datasources/
│       └── remote_trip_datasource.dart
ملاحظات إضافية:
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة الرحلات.
يجب توفير رسائل خطأ واضحة للمستخدم في حال فشل جلب الرحلات.
يمكن إضافة وظيفة البحث عن الرحلات إذا كان عددها كبيرًا.
12. صفحة الشكاوى (Complaints Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٣٣٢_com_schoolz_io_MainActivity.jpg
الوصف:
تعرض هذه الصفحة قائمة بالشكاوى التي قدمها المستخدم. في حال عدم وجود شكاوى، يتم عرض رسالة توضيحية مع زر لإضافة شكوى جديدة. تتبع هذه الصفحة نفس الهيكل العام للصفحات الداخلية الأخرى، مع شريط تطبيق علوي وشريط تنقل سفلي.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
عنوان الصفحة (Page Title): نص "شكاوى" في منتصف شريط التطبيق.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
زر جديد (New Button): TextButton أو IconButton بنص "جديد" باللون الأحمر في الزاوية اليمنى (أو اليسرى حسب اتجاه اللغة). يهدف هذا الزر إلى الانتقال إلى صفحة إضافة شكوى جديدة.
رسالة لا يوجد شكاوى (No Complaints Message): Text Widget يعرض نص "ليس لديك شكاوى" في منتصف الشاشة عندما تكون قائمة الشكاوى فارغة. يمكن أن يكون مصحوبًا بأيقونة توضيحية.
قائمة الشكاوى (Complaints List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالشكاوى المقدمة. كل عنصر في القائمة (Complaint Item) يجب أن يعرض تفاصيل الشكوى مثل الموضوع، التاريخ، والحالة (قيد المراجعة، تم الحل، إلخ). يمكن أن تكون عناصر القائمة قابلة للنقر لعرض تفاصيل الشكوى الكاملة.
شريط التنقل السفلي (Bottom Navigation Bar): (متوقع، بناءً على اتساق التصميم) BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة الشكاوى): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات الشكاوى (مثل إضافة شكوى جديدة، تحديث حالة شكوى) وتحديث واجهة المستخدم تلقائيًا. على سبيل المثال، ComplaintsViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث قائمة الشكاوى.
Builder Pattern (لبناء عناصر قائمة الشكاوى): يمكن استخدام Builder Pattern لإنشاء عناصر قائمة الشكاوى (Complaint List Items) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات Complaint تحتوي على التفاصيل). هذا يجعل القائمة قابلة للتوسع بسهولة.
Repository Pattern (لجلب بيانات الشكاوى): لفصل منطق جلب البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك ComplaintRepository مسؤول عن جلب بيانات الشكاوى من مصدر البيانات (محلي أو بعيد).
Command Pattern (لزر إضافة شكوى جديدة): يمكن تغليف إجراء إضافة شكوى جديدة في كائن Command، مما يفصل بين الواجهة ومنطق العمل، ويسهل إعادة استخدام هذا الإجراء في أماكن أخرى من التطبيق.
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات الشكاوى من API.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── complaints/
│   │   ├── pages/
│   │   │   └── complaints_page.dart
│   │   ├── widgets/
│   │   │   ├── no_complaints_message.dart
│   │   │   └── complaint_list_item.dart
│   │   └── viewmodels/
│   │       └── complaints_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── complaint.dart
│   └── usecases/
│       └── get_complaints.dart
│       └── add_complaint.dart
├── data/
│   ├── repositories/
│   │   └── complaint_repository_impl.dart
│   └── datasources/
│       └── remote_complaint_datasource.dart
ملاحظات إضافية:
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة الشكاوى.
يجب توفير رسائل خطأ واضحة للمستخدم في حال فشل جلب الشكاوى.
يمكن إضافة وظيفة البحث أو التصفية للشكاوى إذا كان عددها كبيرًا.
13. صفحة شكوى جديدة (New Complaint Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٣٣٥_com_schoolz_io_MainActivity.jpg
الوصف:
تسمح هذه الصفحة للمستخدم بتقديم شكوى جديدة عن طريق كتابة رسالة وإرسالها. تتميز ببساطة التصميم لتركيز المستخدم على إدخال الشكوى.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
عنوان الصفحة (Page Title): نص "شكوى جديدة" في منتصف شريط التطبيق.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
حقل رسالتك (Your Message Field): TextFormField متعدد الأسطر (multiline) مع تلميح نصي (hint text) "اكتب رسالتك هنا". يجب أن يكون هذا الحقل كبيرًا بما يكفي لاستيعاب رسالة طويلة.
زر إرسال (Send Button): ElevatedButton كبير باللون الأصفر مع نص "إرسال" وأيقونة طائرة ورقية (Icons.send). عند النقر، يقوم بإرسال الشكوى.
تطبيق Design Patterns:
Builder Pattern (لحقل النص): يمكن استخدام Builder Pattern لإنشاء TextFormField مع خصائص محددة (مثل maxLines, hintText, keyboardType).
Command Pattern (لزر الإرسال): يمكن تغليف إجراء إرسال الشكوى في كائن Command، مما يفصل بين الواجهة ومنطق العمل، ويسهل اختبار وإدارة عملية الإرسال.
Provider/BLoC/Riverpod (لإدارة حالة النموذج): لإدارة حالة حقل النص (القيمة المدخلة، حالة التحميل عند الإرسال)، يجب استخدام حل لإدارة الحالة. على سبيل المثال، NewComplaintViewModel يمكن أن يحتوي على TextEditingController ومنطق إرسال الشكوى.
Repository Pattern (لإرسال الشكوى): لفصل منطق إرسال البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك ComplaintRepository مسؤول عن إرسال الشكوى إلى الواجهة الخلفية (Backend).
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لإرسال الشكوى إلى API.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── complaints/
│   │   ├── pages/
│   │   │   └── new_complaint_page.dart
│   │   ├── widgets/
│   │   │   └── complaint_text_field.dart
│   │   └── viewmodels/
│   │       └── new_complaint_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── complaint.dart
│   └── usecases/
│       └── submit_complaint.dart
├── data/
│   ├── repositories/
│   │   └── complaint_repository_impl.dart
│   └── datasources/
│       └── remote_complaint_datasource.dart
ملاحظات إضافية:
يجب توفير ملاحظات مرئية للمستخدم عند نجاح الإرسال أو عند حدوث أخطاء.
التعامل مع حالات التحميل وعرض مؤشر تحميل عند إرسال الشكوى.
يمكن إضافة تحقق من صحة المدخلات (مثل عدم ترك حقل الشكوى فارغًا).
14. صفحة التقييم (Rating Page)
الصور المرجعية:
Screenshot_٢٠٢٥٠٧٢٢_٠٣٠٣٤٠_com_schoolz_io_MainActivity.jpg
الوصف:
تعرض هذه الصفحة التقييمات التي قدمها المستخدم أو التقييمات المتعلقة بخدماته. في حال عدم وجود تقييمات، يتم عرض رسالة توضيحية. تتبع هذه الصفحة نفس الهيكل العام للصفحات الداخلية الأخرى، مع شريط تطبيق علوي وشريط تنقل سفلي.
المكونات الرئيسية (Main Components):
شريط الحالة العلوي (Status Bar): لعرض معلومات النظام.
شريط التطبيق العلوي (App Bar): يحتوي على:
عنوان الصفحة (Page Title): نص "التقييم" في منتصف شريط التطبيق.
زر العودة (Back Button): سهم للعودة إلى الشاشة السابقة.
رسالة لا يوجد تقييم (No Rating Message): Text Widget يعرض نص "ليس لديك تقييم" في منتصف الشاشة عندما تكون قائمة التقييمات فارغة. يمكن أن يكون مصحوبًا بأيقونة توضيحية.
قائمة التقييمات (Ratings List): (غير مرئية في الصورة، ولكن متوقعة) ListView.builder لعرض قائمة بالتقييمات. كل عنصر في القائمة (Rating Item) يجب أن يعرض تفاصيل التقييم مثل النجوم، التعليق، التاريخ، واسم الجهة التي تم تقييمها (سائق، خدمة، إلخ). يمكن أن تكون عناصر القائمة قابلة للنقر لعرض تفاصيل التقييم الكاملة.
شريط التنقل السفلي (Bottom Navigation Bar): (متوقع، بناءً على اتساق التصميم) BottomNavigationBar يحتوي على أيقونات ونصوص للأقسام الرئيسية للتطبيق. يجب أن يكون العنصر النشط مميزًا بصريًا.
تطبيق Design Patterns:
Observer Pattern (لإدارة حالة التقييمات): يمكن استخدام Observer Pattern (أو حلول إدارة الحالة مثل Provider/BLoC/Riverpod) لمراقبة تغييرات في بيانات التقييمات (مثل إضافة تقييم جديد، تحديث تقييم) وتحديث واجهة المستخدم تلقائيًا. على سبيل المثال، RatingViewModel يمكن أن يكون ChangeNotifier يقوم بإخطار الـ Widgets عند تحديث قائمة التقييمات.
Builder Pattern (لبناء عناصر قائمة التقييمات): يمكن استخدام Builder Pattern لإنشاء عناصر قائمة التقييمات (Rating List Items) بشكل ديناميكي من قائمة بيانات (مثل قائمة من كائنات Rating تحتوي على التفاصيل). هذا يجعل القائمة قابلة للتوسع بسهولة.
Repository Pattern (لجلب بيانات التقييمات): لفصل منطق جلب البيانات عن منطق الواجهة، يجب استخدام Repository Pattern. سيكون هناك RatingRepository مسؤول عن جلب بيانات التقييمات من مصدر البيانات (محلي أو بعيد).
المكتبات المحتملة (Potential Libraries):
provider أو flutter_bloc أو riverpod أو get لإدارة الحالة.
http أو dio لجلب بيانات التقييمات من API.
flutter_rating_bar لعرض نجوم التقييم.
تزرية الكود (Code Structuring):
lib/
├── presentation/
│   ├── ratings/
│   │   ├── pages/
│   │   │   └── ratings_page.dart
│   │   ├── widgets/
│   │   │   ├── no_ratings_message.dart
│   │   │   └── rating_list_item.dart
│   │   └── viewmodels/
│   │       └── ratings_viewmodel.dart
├── domain/
│   ├── entities/
│   │   └── rating.dart
│   └── usecases/
│       └── get_ratings.dart
├── data/
│   ├── repositories/
│   │   └── rating_repository_impl.dart
│   └── datasources/
│       └── remote_rating_datasource.dart
ملاحظات إضافية:
النظر في إضافة وظيفة السحب للتحديث (Pull-to-refresh) لقائمة التقييمات.
يجب توفير رسائل خطأ واضحة للمستخدم في حال فشل جلب التقييمات.
يمكن إضافة وظيفة لتقديم تقييم جديد من هذه الصفحة أو من صفحات أخرى ذات صلة (مثل صفحة تفاصيل الرحلة بعد اكتمالها).
